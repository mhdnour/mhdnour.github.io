<!DOCTYPE html>
<html lang="ar" dir="rtl">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>بطاقة تهنئة من مداك</title>

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Cairo:wght@300&display=swap"
            rel="stylesheet"
        />

        <!-- Font Awesome -->
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
        />
        <!-- Google Fonts -->
        <link
            href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
            rel="stylesheet"
        />
        <!-- MDB -->
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.3.0/mdb.min.css"
            rel="stylesheet"
        />
        <!-- MDB -->
        <script
            defer
            type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.3.0/mdb.min.js"
        ></script>

        <style>
             @font-face {
                font-family: "FaktArabicPro";
                src: url("fonts/FaktArabicPro-Bold.ttf") format("truetype"),
                url("fonts/FaktArabicPro-Normal.ttf") format("truetype"),
                url("fonts/FaktArabicPro-Thin.ttf") format("truetype");
                font-style: normal;
                font-weight: normal;
            }

            body {
                background-color: #487DA9;
                background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 800 800'%3E%3Cg fill='none' stroke='%23FFFFFF' stroke-width='1'%3E%3Cpath d='M769 229L1037 260.9M927 880L731 737 520 660 309 538 40 599 295 764 126.5 879.5 40 599-197 493 102 382-31 229 126.5 79.5-69-63'/%3E%3Cpath d='M-31 229L237 261 390 382 603 493 308.5 537.5 101.5 381.5M370 905L295 764'/%3E%3Cpath d='M520 660L578 842 731 737 840 599 603 493 520 660 295 764 309 538 390 382 539 269 769 229 577.5 41.5 370 105 295 -36 126.5 79.5 237 261 102 382 40 599 -69 737 127 880'/%3E%3Cpath d='M520-140L578.5 42.5 731-63M603 493L539 269 237 261 370 105M902 382L539 269M390 382L102 382'/%3E%3Cpath d='M-222 42L126.5 79.5 370 105 539 269 577.5 41.5 927 80 769 229 902 382 603 493 731 737M295-36L577.5 41.5M578 842L295 764M40-201L127 80M102 382L-261 269'/%3E%3C/g%3E%3Cg fill='%23FFFFFF'%3E%3Ccircle cx='769' cy='229' r='5'/%3E%3Ccircle cx='539' cy='269' r='5'/%3E%3Ccircle cx='603' cy='493' r='5'/%3E%3Ccircle cx='731' cy='737' r='5'/%3E%3Ccircle cx='520' cy='660' r='5'/%3E%3Ccircle cx='309' cy='538' r='5'/%3E%3Ccircle cx='295' cy='764' r='5'/%3E%3Ccircle cx='40' cy='599' r='5'/%3E%3Ccircle cx='102' cy='382' r='5'/%3E%3Ccircle cx='127' cy='80' r='5'/%3E%3Ccircle cx='370' cy='105' r='5'/%3E%3Ccircle cx='578' cy='42' r='5'/%3E%3Ccircle cx='237' cy='261' r='5'/%3E%3Ccircle cx='390' cy='382' r='5'/%3E%3C/g%3E%3C/svg%3E");
                background-attachment: fixed;
                background-size: cover;
                font-family: "FaktArabicPro", sans-serif;

                }
            /* */
            canvas {
                max-width: 100%;
                height: auto;
                font-family: "FaktArabicPro", sans-serif;
                display: block;
                /* border: 1px solid #888;*/
                border-radius: 13px;
                margin-top: 13px;
                margin-bottom: 19px;
            }

            /* Container needed to position the button. Adjust the width as needed */
            .maindiv {
                max-width: 100%;
                height: auto;
                position: relative;
                width: 100%;
            }

            /* Style the button and place it in the middle of the container/image */
            .maindiv .btn {
                position: absolute;
                padding: 1px;
                font-size: 18px;
                border-radius: 5px;
                bottom: 28%;
                top: 66%;
                right: 30%;
                left: 30%;

                color: white;
                cursor: pointer;
            }

        </style>
    </head>
    <body>
        <!-- As a heading -->
        <nav class="navbar navbar-light sticky-top bg-light"  >
            <div class="container-fluid ">
                <a class="navbar-brand" href="#">
                    <img
                        src="images/logo.png"
                        height="30"
                        alt="Logo"
                        class="me-2 px-2"
                        loading="lazy"
                    />
                </a>

                <span class="navbar-text">بطاقة تهنئة من أكاديمية مداك</span>
                <!-- Right elements -->
                <div class="navbar-nav d-flex flex-row">
                    <a class="nav-link" href="#"><img
                        src="images/logo2.png"
                        height="30"
                        alt="Logo"
                        class="me-2 px-2"
                        loading="lazy"
                    /></a>
                    <!-- Notifications -->
                    <div class="dropdown">
                        <a
                            class="text-reset me-3 dropdown-toggle hidden-arrow"
                            href="#"
                            id="navbarDropdownMenuLink"
                            role="button"
                            data-mdb-toggle="dropdown"
                            aria-expanded="false"
                        >
                            <i class="fas fa-ellipsis-h"></i>
                            <!-- <span
                                class="badge rounded-pill badge-notification bg-danger"
                                ></span >-->
                            
                        </a>
                        <ul
                            class="dropdown-menu dropdown-menu-start"
                            aria-labelledby="navbarDropdownMenuLink"
                        >
                            <li>
                                <a class="dropdown-item" href="#"
                                data-mdb-toggle="modal"
                    data-mdb-target="#exampleModal"
                    >
                   
                    كتابة الاسم
                    <i class="fa-solid fa-pen-to-square"></i></a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#"
                                onclick="saveMobile()">
                                    
                                    حفظ الصورة
                                    <i class="fa-solid fa-save"></i></a
                                >
                            </li>
                            <li>
                                <a class="dropdown-item" href="index.html"
                                >
                                    
                                    الرئيسية
                                    <i class="fa-solid fa-home"></i></a
                                >
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>

        <div class="container" style="max-width: 780px">
            <div class="maindiv canvas">
                <canvas id="canvas" class="canvas shadow-4"></canvas>

                <button
                    class="btn"
                    id="btnini"
                    data-mdb-toggle="modal"
                    data-mdb-target="#exampleModal"
                >
                    إضغط هنا لكتابة الاسم
                </button>
                
            </div>



            <!-- Modal -->
            <div
                class="modal fade"
                id="exampleModal"
                tabindex="-1"
                aria-labelledby="exampleModalLabel"
                aria-hidden="true"
            >
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel"></h5>
                            <button
                                type="button"
                                class="btn-close"
                                data-mdb-dismiss="modal"
                                aria-label="Close"
                            ></button>
                        </div>
                        <div class="modal-body">
                            <input
                                type="text"
                                id="textinput"
                                placeholder="اكتب الاسم هنا ثم انقر على زر حفظ"
                                class="form-control"
                                style="font-size: 19px; text-align: right"
                            />
                        </div>
                        <div class="modal-footer">
                            <!-- <button
                                type="button"
                                class="btn btn-secondary"
                                data-mdb-dismiss="modal"
                            >
                                Close
                            </button> -->
                            <button
                                id="showtoast"
                                type="button"
                                class="btn btn-primary"
                                onclick="btnclc()"
                                data-mdb-dismiss="modal"
                            >
                                حفظ
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center text-lg-start mt-3 bg-light text-muted" >
            <!-- Section: Social media -->
            <section
                class="text-center p-3"
            >
                <!-- Left -->
                <div class="me-5 d-none d-lg-block">
                    <span>تابعنا على وسائل التواصل:</span>
                </div>
                <!-- Left -->

                <!-- Right -->
                <div>
                    <a href="" class="me-4 text-reset">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="" class="me-4 text-reset">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="" class="me-4 text-reset">
                        <i class="fab fa-google"></i>
                    </a>
                    <a href="" class="me-4 text-reset">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="" class="me-4 text-reset">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="" class="me-4 text-reset">
                        <i class="fab fa-github"></i>
                    </a>
                </div>
                <!-- Right -->
            </section>
            <!-- Section: Social media -->

        </footer>
        <!-- Footer -->
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
            crossorigin="anonymous"
        ></script>

        <script>
            let writetext = "";

            function saveMobile() {
                const link = document.createElement("a");
                link.download = "images/eidh2022.png";
                link.href = canvas.toDataURL();
                link.click();
                link.delete;
            }        

            function btnclc() {
                writetext = document.getElementById("textinput").value;
                addTextToImage("images/eidh2022.png", writetext);

                document.getElementById("btnini").innerText = "";

                const toastLiveExample = document.getElementById("liveToast");
                const toast = new bootstrap.Toast(toastLiveExample);
                //toast.show();
            }
            function addTextToImage(imagePath, text) {
                var imgcanvas = document.getElementById("canvas");
                var context = imgcanvas.getContext("2d");

                // Draw Image function
                var img = new Image();
                img.src = imagePath;
                img.onload = function () {
                    // make the canvas responsive
                    imgcanvas.width = img.naturalWidth;
                    imgcanvas.height = img.naturalHeight;
                    context.drawImage(img, 0, 0);
                    context.lineWidth = 1;
                    context.textAlign = "center";
                    context.fillStyle = "#FFFFFF";
                    context.lineStyle = "#FFFFFF";
                    context.font = "28px sans-serif";
                    context.fillText(text, 370, 533);
                };
            }

            addTextToImage("images/eidh2022.png", writetext);
        </script>
    </body>
</html>
